#include "NMouse.h"

/***************************************************************************************************************/
void NMouse::init(ushort windowWidth, ushort windowHeight){

	m_windowSize[0] = windowWidth;
	m_windowSize[1] = windowHeight;
}
/***************************************************************************************************************/


/***************************************************************************************************************/
ushort NMouse::getX(void) const{

	return m_locationX;
}
/***************************************************************************************************************/


/***************************************************************************************************************/
ushort NMouse::getY(void) const{

	return m_locationY;
}
/***************************************************************************************************************/


/***************************************************************************************************************/
void NMouse::getLocation(ushort &x, ushort &y) const{

	x = m_locationX;
	y = m_locationY;
}
/***************************************************************************************************************/


/***************************************************************************************************************/
ushort NMouse::getDeltaX(void) const{

	return m_deltaX;
}
/***************************************************************************************************************/


/***************************************************************************************************************/
ushort NMouse::getDeltaY(void) const{

	return m_deltaY;
}
/***************************************************************************************************************/


/***************************************************************************************************************/
void NMouse::getDelta(ushort &x, ushort &y) const{

	x = m_deltaX;
	y = m_deltaY;
}
/***************************************************************************************************************/


/***************************************************************************************************************/
void NMouse::update(const NRenderer &gfx){

	int lx, ly, dx, dy;
	lx = sf::Mouse::getPosition(gfx.m_window).x;
    ly = sf::Mouse::getPosition(gfx.m_window).y;

	if(lx < 0) lx = 0;
	if(lx >= m_windowSize[0]) lx = m_windowSize[0] - 1;
    if(ly < 0) ly = 0;
	if(ly >= m_windowSize[1]) ly = m_windowSize[1] - 1;

	dx = lx - m_locationX;
	dy = ly - m_locationY;

	m_locationX = lx;
	m_locationY = ly;
	m_deltaX    = dx;
	m_deltaY    = dy;
}
/***************************************************************************************************************/
